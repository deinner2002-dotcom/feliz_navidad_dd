<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Viaje Navide√±o</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:black;
  font-family:'Segoe UI',sans-serif;
}

canvas{
  position:absolute;
  top:0;left:0;
}

.scene{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  opacity:0;
  pointer-events:none;
  transition:opacity 2s;
}
.scene.active{
  opacity:1;
  pointer-events:auto;
}

button{
  padding:18px 40px;
  font-size:20px;
  border-radius:40px;
  border:none;
  cursor:pointer;
  background:white;
  color:black;
  margin-top:30px;
}

/* √ÅRBOL */
.tree{
  width:0;
  height:0;
  border-left:120px solid transparent;
  border-right:120px solid transparent;
  border-bottom:200px solid #0a7a2a;
  position:relative;
}
.tree::after{
  content:"";
  position:absolute;
  top:180px;
  left:-20px;
  width:40px;
  height:50px;
  background:#5a3b1e;
}

/* ADORNOS */
.ornament{
  width:16px;
  height:16px;
  border-radius:50%;
  background:red;
  position:absolute;
}

/* SANTA */
#santa{
  position:absolute;
  top:20%;
  left:-200px;
  display:flex;
  align-items:center;
  animation:fly 40s linear forwards;
}
#face{
  width:60px;
  height:60px;
  border-radius:50%;
  background:url("TU_CARA.png") center/cover;
  margin-right:10px;
}
#body{
  font-size:60px;
}
@keyframes fly{
  to{left:120%;}
}

/* TEXTO */
.message{
  font-size:36px;
  color:white;
  text-align:center;
  max-width:80%;
  animation:fade 3s;
}
@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}

/* FOTO */
.photo{
  max-width:70%;
  max-height:60%;
  border-radius:20px;
  display:none;
}

/* CASA */
.house{
  width:300px;
  height:200px;
  background:#b33;
  position:relative;
}
.roof{
  width:0;height:0;
  border-left:160px solid transparent;
  border-right:160px solid transparent;
  border-bottom:120px solid #822;
  position:absolute;
  top:-120px;
}
.chimney{
  width:40px;height:80px;
  background:#444;
  position:absolute;
  right:40px;
  top:-80px;
}

/* REGALO */
#gift{
  font-size:100px;
  cursor:pointer;
}

/* CORAZ√ìN */
.heart{
  font-size:120px;
}
</style>
</head>

<body>

<canvas id="snow"></canvas>

<audio id="music" loop>
  <source src="TU_MUSICA.mp3">
</audio>

<!-- ESCENA 1 -->
<div id="scene1" class="scene active">
  <div class="tree">
    <div class="ornament" style="top:40px;left:-20px"></div>
    <div class="ornament" style="top:80px;left:30px;background:gold"></div>
    <div class="ornament" style="top:120px;left:-10px;background:blue"></div>
  </div>
  <button onclick="start()">Iniciar viaje navide√±o</button>
</div>

<!-- ESCENA 2 -->
<div id="scene2" class="scene">
  <div id="santa">
    <div id="face"></div>
    <div id="body">üéÖ</div>
  </div>
  <div id="text" class="message"></div>
  <img id="photo" class="photo">
</div>

<!-- ESCENA 3 -->
<div id="scene3" class="scene">
  <div class="house">
    <div class="roof"></div>
    <div class="chimney"></div>
  </div>
  <div id="gift">üéÅ</div>
</div>

<!-- ESCENA FINAL -->
<div id="scene4" class="scene">
  <div class="heart">‚ù§Ô∏è</div>
  <p>Aqu√≠ va tu mensaje</p>
  <img src="FINAL.jpg" class="photo" style="display:block">
</div>

<script>
/* NIEVE */
const canvas=document.getElementById("snow");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;
let flakes=[];
for(let i=0;i<150;i++){
  flakes.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*3+1,s:Math.random()+0.5});
}
function snow(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="white";
  flakes.forEach(f=>{
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fill();
    f.y+=f.s;
    if(f.y>canvas.height)f.y=0;
  });
  requestAnimationFrame(snow);
}
snow();

/* ESCENAS */
const music=document.getElementById("music");
const messages=[
  "Mensaje 1","Mensaje 2","Mensaje 3",
  "Mensaje 4","Mensaje 5","Mensaje 6","Mensaje 7"
];
let i=0;

function start(){
  music.play();
  document.body.style.transition="background 8s";
  document.body.style.background="white";
  show(1,2);
  run();
}

function show(a,b){
  document.getElementById("scene"+a).classList.remove("active");
  document.getElementById("scene"+b).classList.add("active");
}

function run(){
  if(i>=messages.length){
    show(2,3);
    return;
  }
  const t=document.getElementById("text");
  const p=document.getElementById("photo");
  t.innerText=messages[i];
  p.style.display="none";
  setTimeout(()=>{
    t.innerText="";
    p.src="FOTO"+(i+1)+".jpg";
    p.style.display="block";
    i++;
    setTimeout(run,15000);
  },15000);
}

document.getElementById("gift").onclick=()=>{
  show(3,4);
};
</script>

</body>
</html>

